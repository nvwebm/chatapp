(this.webpackJsonptask=this.webpackJsonptask||[]).push([[0],{126:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t.n(c),s=t(24),i=t.n(s),r=(t(83),t(18)),o=(t(84),t(142)),l=t(72),u=t(3),j=function(e){return Object(u.jsx)(o.a,{p:2,component:"header",className:"App-header",bgcolor:"primary.main",fontSize:{xs:16,sm:20},display:"flex",justifyContent:"space-between",children:"Public Chat Room"})},d=t(50),f=t(70),b=t.n(f),m=function(e){var n="success.main",t="flex-end",c="row-reverse";return e.sender&&(n="warning.main",t="flex-start",c="row"),Object(u.jsxs)(o.a,{display:"flex",alignItems:"center",flexDirection:c,alignSelf:t,mb:2,children:[Object(u.jsx)(b.a,{}),Object(u.jsx)(o.a,{width:10}),Object(u.jsxs)(o.a,{bgcolor:n,width:"fit-content",borderRadius:5,p:1,children:[e.sender?null:Object(u.jsx)(o.a,{fontSize:10,mb:1,children:e.nickname}),e.message]})]})},h=a.a.forwardRef((function(e,n){return Object(u.jsx)(o.a,{p:2,flex:"1",component:"section",bgcolor:"info.main",display:"flex",flexDirection:"column",overflow:"scroll",children:e.messages.map((function(e){return Object(c.createElement)(m,Object(d.a)(Object(d.a)({},e),{},{key:e.id}))}))})})),O=t(140),x=t(145),g=t(146),p=t(143),v=function(e){var n=Object(c.useState)(""),t=Object(r.a)(n,2),a=t[0],s=t[1];return Object(u.jsxs)(o.a,{display:"flex",p:2,children:[Object(u.jsxs)(O.a,{fullWidth:!0,focused:!0,children:[Object(u.jsx)(x.a,{htmlFor:"message",children:"Your Message"}),Object(u.jsx)(g.a,{id:"message",onInput:function(e){s(e.target.value)},value:a})]}),Object(u.jsx)(o.a,{p:1}),Object(u.jsx)(p.a,{color:"primary",variant:"contained",onClick:function(){e.sendMessage(a),s("")},children:"Send"})]})},k=t(71),y=Object(k.io)("https://infinite-savannah-52075.herokuapp.com:4000",{autoConnect:!1}),S=function(e){var n=Object(c.useState)([]),t=Object(r.a)(n,2),a=t[0],s=t[1],i=Object(c.createRef)(null),d=function(e,n,t){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];s((function(a){return[].concat(Object(l.a)(a),[{message:e,sender:c,id:n,nickname:t}])}))};return Object(c.useEffect)((function(){var e=function(e){return d(e.message,e.id,e.nickname,e.sender)};y.on("old-messages",(function(n){n.forEach(e)})),y.on("new-message",(function(n){e(n)}))}),[]),Object(u.jsxs)(o.a,{display:"flex",justifyContent:"stretch",flexDirection:"column",height:"100vh",maxHeight:"100vh",children:[Object(u.jsx)(j,{members:7}),Object(u.jsx)(h,{messages:a,ref:i}),Object(u.jsx)(v,{nickname:!0,sendMessage:function(n){return function(n){d(n,Math.floor(100*Math.random()),e.nickname,!0),y.emit("new-sender-message",{nickname:e.nickname,message:n})}(n)}})]})},w=function(e){var n=Object(c.useState)(""),t=Object(r.a)(n,2),a=t[0],s=t[1];return Object(u.jsxs)(o.a,{display:"flex",p:2,children:[Object(u.jsxs)(O.a,{fullWidth:!0,focused:!0,children:[Object(u.jsx)(x.a,{htmlFor:"message",children:"Your nickname"}),Object(u.jsx)(g.a,{id:"message",onInput:function(e){s(e.target.value)},value:a})]}),Object(u.jsx)(o.a,{p:1}),Object(u.jsx)(p.a,{color:"primary",variant:"contained",onClick:function(){e.onNicknameSubbmitted(a)},children:"Send"})]})};var C=function(){var e=Object(c.useState)(null),n=Object(r.a)(e,2),t=n[0],a=n[1];return Object(u.jsx)(o.a,{children:null!==t?Object(u.jsx)(S,{nickname:t}):Object(u.jsx)(w,{onNicknameSubbmitted:function(e){y.auth={nickname:e},y.connect(),a(e)},children:" "})})},F=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,148)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,s=n.getLCP,i=n.getTTFB;t(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root")),F()},83:function(e,n,t){},84:function(e,n,t){}},[[126,1,2]]]);
//# sourceMappingURL=main.d2146d0c.chunk.js.map